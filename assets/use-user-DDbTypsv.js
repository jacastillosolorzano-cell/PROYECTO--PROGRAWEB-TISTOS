import{r as o,x as r,y as d}from"./index-ByqtMrcU.js";const m=a=>{const[e,i]=o.useState(()=>{const t=localStorage.getItem("currentUser");if(t){const s=JSON.parse(t);return{id:s.id||"1",name:s.name||"Usuario Invitado",points:s.points||0,level:r(s.points||0),...a}}return{id:"1",name:"Usuario Invitado",points:0,level:1,...a}});o.useEffect(()=>{localStorage.setItem("currentUser",JSON.stringify(e))},[e]);const l=t=>{const s=e.points,c=d(s,t),n=r(c),p=n>e.level;return i({...e,points:c,level:n}),{didLevelUp:p,newLevel:n}},u=t=>{const s={...e,...t,level:r(t.points||e.points)};i(s)};return o.useEffect(()=>{let t;return e.name!=="Usuario Invitado"&&(t=setInterval(()=>{l("watchVideo")},1e4)),()=>clearInterval(t)},[e.name]),{user:e,updatePoints:l,setCurrentUser:u}};export{m as u};
