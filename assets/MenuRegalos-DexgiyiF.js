import{r as s,m as lt,n as ut,o as ve,p as Y,j as c,P as F,q as dt,s as ft,t as ie,v as mt,w as L,x as vt,D as gt,y as pt,c as W,X as ht,u as yt,B as ge}from"./index-DY9U8CCk.js";import{B as pe}from"./button-Ds1YTq8B.js";import{G as he}from"./gift-DykKhqHU.js";var bt=lt[" useId ".trim().toString()]||(()=>{}),xt=0;function J(e){const[t,n]=s.useState(bt());return ut(()=>{n(r=>r??String(xt++))},[e]),e||(t?`radix-${t}`:"")}var Q="focusScope.autoFocusOnMount",ee="focusScope.autoFocusOnUnmount",ye={bubbles:!1,cancelable:!0},Et="FocusScope",Te=s.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:a,onUnmountAutoFocus:o,...l}=e,[i,h]=s.useState(null),d=ve(a),g=ve(o),m=s.useRef(null),v=Y(t,u=>h(u)),y=s.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;s.useEffect(()=>{if(r){let u=function(b){if(y.paused||!i)return;const w=b.target;i.contains(w)?m.current=w:O(m.current,{select:!0})},f=function(b){if(y.paused||!i)return;const w=b.relatedTarget;w!==null&&(i.contains(w)||O(m.current,{select:!0}))},p=function(b){if(document.activeElement===document.body)for(const S of b)S.removedNodes.length>0&&O(i)};document.addEventListener("focusin",u),document.addEventListener("focusout",f);const E=new MutationObserver(p);return i&&E.observe(i,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",u),document.removeEventListener("focusout",f),E.disconnect()}}},[r,i,y.paused]),s.useEffect(()=>{if(i){xe.add(y);const u=document.activeElement;if(!i.contains(u)){const p=new CustomEvent(Q,ye);i.addEventListener(Q,d),i.dispatchEvent(p),p.defaultPrevented||(wt(jt(ke(i)),{select:!0}),document.activeElement===u&&O(i))}return()=>{i.removeEventListener(Q,d),setTimeout(()=>{const p=new CustomEvent(ee,ye);i.addEventListener(ee,g),i.dispatchEvent(p),p.defaultPrevented||O(u??document.body,{select:!0}),i.removeEventListener(ee,g),xe.remove(y)},0)}}},[i,d,g,y]);const N=s.useCallback(u=>{if(!n&&!r||y.paused)return;const f=u.key==="Tab"&&!u.altKey&&!u.ctrlKey&&!u.metaKey,p=document.activeElement;if(f&&p){const E=u.currentTarget,[b,w]=St(E);b&&w?!u.shiftKey&&p===w?(u.preventDefault(),n&&O(b,{select:!0})):u.shiftKey&&p===b&&(u.preventDefault(),n&&O(w,{select:!0})):p===E&&u.preventDefault()}},[n,r,y.paused]);return c.jsx(F.div,{tabIndex:-1,...l,ref:v,onKeyDown:N})});Te.displayName=Et;function wt(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(O(r,{select:t}),document.activeElement!==n)return}function St(e){const t=ke(e),n=be(t,e),r=be(t.reverse(),e);return[n,r]}function ke(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const a=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||a?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function be(e,t){for(const n of e)if(!Ct(n,{upTo:t}))return n}function Ct(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Nt(e){return e instanceof HTMLInputElement&&"select"in e}function O(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&Nt(e)&&t&&e.select()}}var xe=Rt();function Rt(){let e=[];return{add(t){const n=e[0];t!==n&&n?.pause(),e=Ee(e,t),e.unshift(t)},remove(t){e=Ee(e,t),e[0]?.resume()}}}function Ee(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function jt(e){return e.filter(t=>t.tagName!=="A")}var te=0;function Dt(){s.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??we()),document.body.insertAdjacentElement("beforeend",e[1]??we()),te++,()=>{te===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),te--}},[])}function we(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var j=function(){return j=Object.assign||function(t){for(var n,r=1,a=arguments.length;r<a;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},j.apply(this,arguments)};function Ae(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n}function Ot(e,t,n){if(n||arguments.length===2)for(var r=0,a=t.length,o;r<a;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}var H="right-scroll-bar-position",z="width-before-scroll-bar",Tt="with-scroll-bars-hidden",kt="--removed-body-scroll-bar-size";function ne(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function At(e,t){var n=s.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var a=n.value;a!==r&&(n.value=r,n.callback(r,a))}}}})[0];return n.callback=t,n.facade}var Pt=typeof window<"u"?s.useLayoutEffect:s.useEffect,Se=new WeakMap;function It(e,t){var n=At(null,function(r){return e.forEach(function(a){return ne(a,r)})});return Pt(function(){var r=Se.get(n);if(r){var a=new Set(r),o=new Set(e),l=n.current;a.forEach(function(i){o.has(i)||ne(i,null)}),o.forEach(function(i){a.has(i)||ne(i,l)})}Se.set(n,e)},[e]),n}function Mt(e){return e}function _t(e,t){t===void 0&&(t=Mt);var n=[],r=!1,a={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(o){var l=t(o,r);return n.push(l),function(){n=n.filter(function(i){return i!==l})}},assignSyncMedium:function(o){for(r=!0;n.length;){var l=n;n=[],l.forEach(o)}n={push:function(i){return o(i)},filter:function(){return n}}},assignMedium:function(o){r=!0;var l=[];if(n.length){var i=n;n=[],i.forEach(o),l=n}var h=function(){var g=l;l=[],g.forEach(o)},d=function(){return Promise.resolve().then(h)};d(),n={push:function(g){l.push(g),d()},filter:function(g){return l=l.filter(g),n}}}};return a}function Ft(e){e===void 0&&(e={});var t=_t(null);return t.options=j({async:!0,ssr:!1},e),t}var Pe=function(e){var t=e.sideCar,n=Ae(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return s.createElement(r,j({},n))};Pe.isSideCarExport=!0;function Lt(e,t){return e.useMedium(t),Pe}var Ie=Ft(),re=function(){},X=s.forwardRef(function(e,t){var n=s.useRef(null),r=s.useState({onScrollCapture:re,onWheelCapture:re,onTouchMoveCapture:re}),a=r[0],o=r[1],l=e.forwardProps,i=e.children,h=e.className,d=e.removeScrollBar,g=e.enabled,m=e.shards,v=e.sideCar,y=e.noRelative,N=e.noIsolation,u=e.inert,f=e.allowPinchZoom,p=e.as,E=p===void 0?"div":p,b=e.gapMode,w=Ae(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),S=v,D=It([n,t]),x=j(j({},w),a);return s.createElement(s.Fragment,null,g&&s.createElement(S,{sideCar:Ie,removeScrollBar:d,shards:m,noRelative:y,noIsolation:N,inert:u,setCallbacks:o,allowPinchZoom:!!f,lockRef:n,gapMode:b}),l?s.cloneElement(s.Children.only(i),j(j({},x),{ref:D})):s.createElement(E,j({},x,{className:h,ref:D}),i))});X.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};X.classNames={fullWidth:z,zeroRight:H};var Wt=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Bt(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=Wt();return t&&e.setAttribute("nonce",t),e}function Gt(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function $t(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var Vt=function(){var e=0,t=null;return{add:function(n){e==0&&(t=Bt())&&(Gt(t,n),$t(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},Ut=function(){var e=Vt();return function(t,n){s.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},Me=function(){var e=Ut(),t=function(n){var r=n.styles,a=n.dynamic;return e(r,a),null};return t},Ht={left:0,top:0,right:0,gap:0},ae=function(e){return parseInt(e||"",10)||0},zt=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[ae(n),ae(r),ae(a)]},Kt=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return Ht;var t=zt(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},Yt=Me(),_="data-scroll-locked",Xt=function(e,t,n,r){var a=e.left,o=e.top,l=e.right,i=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(Tt,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(i,"px ").concat(r,`;
  }
  body[`).concat(_,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(l,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(i,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(i,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(H,` {
    right: `).concat(i,"px ").concat(r,`;
  }
  
  .`).concat(z,` {
    margin-right: `).concat(i,"px ").concat(r,`;
  }
  
  .`).concat(H," .").concat(H,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(z," .").concat(z,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(_,`] {
    `).concat(kt,": ").concat(i,`px;
  }
`)},Ce=function(){var e=parseInt(document.body.getAttribute(_)||"0",10);return isFinite(e)?e:0},Zt=function(){s.useEffect(function(){return document.body.setAttribute(_,(Ce()+1).toString()),function(){var e=Ce()-1;e<=0?document.body.removeAttribute(_):document.body.setAttribute(_,e.toString())}},[])},qt=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,a=r===void 0?"margin":r;Zt();var o=s.useMemo(function(){return Kt(a)},[a]);return s.createElement(Yt,{styles:Xt(o,!t,a,n?"":"!important")})},se=!1;if(typeof window<"u")try{var G=Object.defineProperty({},"passive",{get:function(){return se=!0,!0}});window.addEventListener("test",G,G),window.removeEventListener("test",G,G)}catch{se=!1}var P=se?{passive:!1}:!1,Jt=function(e){return e.tagName==="TEXTAREA"},_e=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!Jt(e)&&n[t]==="visible")},Qt=function(e){return _e(e,"overflowY")},en=function(e){return _e(e,"overflowX")},Ne=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var a=Fe(e,r);if(a){var o=Le(e,r),l=o[1],i=o[2];if(l>i)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},tn=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},nn=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},Fe=function(e,t){return e==="v"?Qt(t):en(t)},Le=function(e,t){return e==="v"?tn(t):nn(t)},rn=function(e,t){return e==="h"&&t==="rtl"?-1:1},an=function(e,t,n,r,a){var o=rn(e,window.getComputedStyle(t).direction),l=o*r,i=n.target,h=t.contains(i),d=!1,g=l>0,m=0,v=0;do{if(!i)break;var y=Le(e,i),N=y[0],u=y[1],f=y[2],p=u-f-o*N;(N||p)&&Fe(e,i)&&(m+=p,v+=N);var E=i.parentNode;i=E&&E.nodeType===Node.DOCUMENT_FRAGMENT_NODE?E.host:E}while(!h&&i!==document.body||h&&(t.contains(i)||t===i));return(g&&Math.abs(m)<1||!g&&Math.abs(v)<1)&&(d=!0),d},$=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Re=function(e){return[e.deltaX,e.deltaY]},je=function(e){return e&&"current"in e?e.current:e},on=function(e,t){return e[0]===t[0]&&e[1]===t[1]},sn=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},cn=0,I=[];function ln(e){var t=s.useRef([]),n=s.useRef([0,0]),r=s.useRef(),a=s.useState(cn++)[0],o=s.useState(Me)[0],l=s.useRef(e);s.useEffect(function(){l.current=e},[e]),s.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var u=Ot([e.lockRef.current],(e.shards||[]).map(je),!0).filter(Boolean);return u.forEach(function(f){return f.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),u.forEach(function(f){return f.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var i=s.useCallback(function(u,f){if("touches"in u&&u.touches.length===2||u.type==="wheel"&&u.ctrlKey)return!l.current.allowPinchZoom;var p=$(u),E=n.current,b="deltaX"in u?u.deltaX:E[0]-p[0],w="deltaY"in u?u.deltaY:E[1]-p[1],S,D=u.target,x=Math.abs(b)>Math.abs(w)?"h":"v";if("touches"in u&&x==="h"&&D.type==="range")return!1;var C=Ne(x,D);if(!C)return!0;if(C?S=x:(S=x==="v"?"h":"v",C=Ne(x,D)),!C)return!1;if(!r.current&&"changedTouches"in u&&(b||w)&&(r.current=S),!S)return!0;var T=r.current||S;return an(T,f,u,T==="h"?b:w)},[]),h=s.useCallback(function(u){var f=u;if(!(!I.length||I[I.length-1]!==o)){var p="deltaY"in f?Re(f):$(f),E=t.current.filter(function(S){return S.name===f.type&&(S.target===f.target||f.target===S.shadowParent)&&on(S.delta,p)})[0];if(E&&E.should){f.cancelable&&f.preventDefault();return}if(!E){var b=(l.current.shards||[]).map(je).filter(Boolean).filter(function(S){return S.contains(f.target)}),w=b.length>0?i(f,b[0]):!l.current.noIsolation;w&&f.cancelable&&f.preventDefault()}}},[]),d=s.useCallback(function(u,f,p,E){var b={name:u,delta:f,target:p,should:E,shadowParent:un(p)};t.current.push(b),setTimeout(function(){t.current=t.current.filter(function(w){return w!==b})},1)},[]),g=s.useCallback(function(u){n.current=$(u),r.current=void 0},[]),m=s.useCallback(function(u){d(u.type,Re(u),u.target,i(u,e.lockRef.current))},[]),v=s.useCallback(function(u){d(u.type,$(u),u.target,i(u,e.lockRef.current))},[]);s.useEffect(function(){return I.push(o),e.setCallbacks({onScrollCapture:m,onWheelCapture:m,onTouchMoveCapture:v}),document.addEventListener("wheel",h,P),document.addEventListener("touchmove",h,P),document.addEventListener("touchstart",g,P),function(){I=I.filter(function(u){return u!==o}),document.removeEventListener("wheel",h,P),document.removeEventListener("touchmove",h,P),document.removeEventListener("touchstart",g,P)}},[]);var y=e.removeScrollBar,N=e.inert;return s.createElement(s.Fragment,null,N?s.createElement(o,{styles:sn(a)}):null,y?s.createElement(qt,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function un(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const dn=Lt(Ie,ln);var We=s.forwardRef(function(e,t){return s.createElement(X,j({},e,{ref:t,sideCar:dn}))});We.classNames=X.classNames;var fn=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},M=new WeakMap,V=new WeakMap,U={},oe=0,Be=function(e){return e&&(e.host||Be(e.parentNode))},mn=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=Be(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},vn=function(e,t,n,r){var a=mn(t,Array.isArray(e)?e:[e]);U[n]||(U[n]=new WeakMap);var o=U[n],l=[],i=new Set,h=new Set(a),d=function(m){!m||i.has(m)||(i.add(m),d(m.parentNode))};a.forEach(d);var g=function(m){!m||h.has(m)||Array.prototype.forEach.call(m.children,function(v){if(i.has(v))g(v);else try{var y=v.getAttribute(r),N=y!==null&&y!=="false",u=(M.get(v)||0)+1,f=(o.get(v)||0)+1;M.set(v,u),o.set(v,f),l.push(v),u===1&&N&&V.set(v,!0),f===1&&v.setAttribute(n,"true"),N||v.setAttribute(r,"true")}catch(p){console.error("aria-hidden: cannot operate on ",v,p)}})};return g(t),i.clear(),oe++,function(){l.forEach(function(m){var v=M.get(m)-1,y=o.get(m)-1;M.set(m,v),o.set(m,y),v||(V.has(m)||m.removeAttribute(r),V.delete(m)),y||m.removeAttribute(n)}),oe--,oe||(M=new WeakMap,M=new WeakMap,V=new WeakMap,U={})}},gn=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),a=fn(e);return a?(r.push.apply(r,Array.from(a.querySelectorAll("[aria-live]"))),vn(r,a,n,"aria-hidden")):function(){return null}},Z="Dialog",[Ge]=ft(Z),[pn,R]=Ge(Z),$e=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:a,onOpenChange:o,modal:l=!0}=e,i=s.useRef(null),h=s.useRef(null),[d,g]=dt({prop:r,defaultProp:a??!1,onChange:o,caller:Z});return c.jsx(pn,{scope:t,triggerRef:i,contentRef:h,contentId:J(),titleId:J(),descriptionId:J(),open:d,onOpenChange:g,onOpenToggle:s.useCallback(()=>g(m=>!m),[g]),modal:l,children:n})};$e.displayName=Z;var Ve="DialogTrigger",hn=s.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=R(Ve,n),o=Y(t,a.triggerRef);return c.jsx(F.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":ue(a.open),...r,ref:o,onClick:L(e.onClick,a.onOpenToggle)})});hn.displayName=Ve;var ce="DialogPortal",[yn,Ue]=Ge(ce,{forceMount:void 0}),He=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:a}=e,o=R(ce,t);return c.jsx(yn,{scope:t,forceMount:n,children:s.Children.map(r,l=>c.jsx(ie,{present:n||o.open,children:c.jsx(mt,{asChild:!0,container:a,children:l})}))})};He.displayName=ce;var K="DialogOverlay",ze=s.forwardRef((e,t)=>{const n=Ue(K,e.__scopeDialog),{forceMount:r=n.forceMount,...a}=e,o=R(K,e.__scopeDialog);return o.modal?c.jsx(ie,{present:r||o.open,children:c.jsx(xn,{...a,ref:t})}):null});ze.displayName=K;var bn=vt("DialogOverlay.RemoveScroll"),xn=s.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=R(K,n);return c.jsx(We,{as:bn,allowPinchZoom:!0,shards:[a.contentRef],children:c.jsx(F.div,{"data-state":ue(a.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),k="DialogContent",Ke=s.forwardRef((e,t)=>{const n=Ue(k,e.__scopeDialog),{forceMount:r=n.forceMount,...a}=e,o=R(k,e.__scopeDialog);return c.jsx(ie,{present:r||o.open,children:o.modal?c.jsx(En,{...a,ref:t}):c.jsx(wn,{...a,ref:t})})});Ke.displayName=k;var En=s.forwardRef((e,t)=>{const n=R(k,e.__scopeDialog),r=s.useRef(null),a=Y(t,n.contentRef,r);return s.useEffect(()=>{const o=r.current;if(o)return gn(o)},[]),c.jsx(Ye,{...e,ref:a,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:L(e.onCloseAutoFocus,o=>{o.preventDefault(),n.triggerRef.current?.focus()}),onPointerDownOutside:L(e.onPointerDownOutside,o=>{const l=o.detail.originalEvent,i=l.button===0&&l.ctrlKey===!0;(l.button===2||i)&&o.preventDefault()}),onFocusOutside:L(e.onFocusOutside,o=>o.preventDefault())})}),wn=s.forwardRef((e,t)=>{const n=R(k,e.__scopeDialog),r=s.useRef(!1),a=s.useRef(!1);return c.jsx(Ye,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{e.onCloseAutoFocus?.(o),o.defaultPrevented||(r.current||n.triggerRef.current?.focus(),o.preventDefault()),r.current=!1,a.current=!1},onInteractOutside:o=>{e.onInteractOutside?.(o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const l=o.target;n.triggerRef.current?.contains(l)&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&a.current&&o.preventDefault()}})}),Ye=s.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:a,onCloseAutoFocus:o,...l}=e,i=R(k,n),h=s.useRef(null),d=Y(t,h);return Dt(),c.jsxs(c.Fragment,{children:[c.jsx(Te,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:a,onUnmountAutoFocus:o,children:c.jsx(gt,{role:"dialog",id:i.contentId,"aria-describedby":i.descriptionId,"aria-labelledby":i.titleId,"data-state":ue(i.open),...l,ref:d,onDismiss:()=>i.onOpenChange(!1)})}),c.jsxs(c.Fragment,{children:[c.jsx(Sn,{titleId:i.titleId}),c.jsx(Nn,{contentRef:h,descriptionId:i.descriptionId})]})]})}),le="DialogTitle",Xe=s.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=R(le,n);return c.jsx(F.h2,{id:a.titleId,...r,ref:t})});Xe.displayName=le;var Ze="DialogDescription",qe=s.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=R(Ze,n);return c.jsx(F.p,{id:a.descriptionId,...r,ref:t})});qe.displayName=Ze;var Je="DialogClose",Qe=s.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=R(Je,n);return c.jsx(F.button,{type:"button",...r,ref:t,onClick:L(e.onClick,()=>a.onOpenChange(!1))})});Qe.displayName=Je;function ue(e){return e?"open":"closed"}var et="DialogTitleWarning",[Bn,tt]=pt(et,{contentName:k,titleName:le,docsSlug:"dialog"}),Sn=({titleId:e})=>{const t=tt(et),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return s.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},Cn="DialogDescriptionWarning",Nn=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${tt(Cn).contentName}}.`;return s.useEffect(()=>{const a=e.current?.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},Rn=$e,jn=He,nt=ze,rt=Ke,at=Xe,ot=qe,Dn=Qe;const On=Rn,Tn=jn,st=s.forwardRef(({className:e,...t},n)=>c.jsx(nt,{ref:n,className:W("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));st.displayName=nt.displayName;const it=s.forwardRef(({className:e,children:t,...n},r)=>c.jsxs(Tn,{children:[c.jsx(st,{}),c.jsxs(rt,{ref:r,className:W("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,c.jsxs(Dn,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[c.jsx(ht,{className:"h-4 w-4"}),c.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));it.displayName=rt.displayName;const ct=({className:e,...t})=>c.jsx("div",{className:W("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});ct.displayName="DialogHeader";const kn=s.forwardRef(({className:e,...t},n)=>c.jsx(at,{ref:n,className:W("text-lg font-semibold leading-none tracking-tight",e),...t}));kn.displayName=at.displayName;const An=s.forwardRef(({className:e,...t},n)=>c.jsx(ot,{ref:n,className:W("text-sm text-muted-foreground",e),...t}));An.displayName=ot.displayName;function Pn({gift:e,visible:t,onClose:n,durationMs:r=3500}){const[a,o]=s.useState(t),l=s.useRef(null);return s.useEffect(()=>{if(o(t),l.current&&(window.clearTimeout(l.current),l.current=null),!!t)return l.current=window.setTimeout(()=>{o(!1),n(),l.current=null},r),()=>{l.current&&(window.clearTimeout(l.current),l.current=null)}},[t,r,n]),s.useEffect(()=>()=>{l.current&&(window.clearTimeout(l.current),l.current=null)},[]),e?c.jsx("div",{className:`fixed right-8 top-20 z-50 pointer-events-auto transform-gpu ${a?"animate-slide-in":"animate-slide-out"}`,onClick:()=>{l.current&&(window.clearTimeout(l.current),l.current=null),o(!1),n()},children:c.jsxs("div",{className:"flex items-center gap-4 bg-gradient-to-r from-pink-500 to-secondary p-4 rounded-2xl shadow-glow text-white min-w-[300px] max-w-md",children:[c.jsx("img",{src:e.imagen,alt:e.nombre,className:"w-20 h-20 object-contain"}),c.jsxs("div",{children:[c.jsx("div",{className:"font-extrabold text-lg",children:"¬°Recibiste un regalo!"}),c.jsx("div",{className:"text-md opacity-95",children:e.nombre})]})]})}):null}const De=[1,1,1,2,2,3],In=({open:e,gift:t,onClose:n,onResult:r})=>{const[a,o]=s.useState(!1),[l,i]=s.useState(null);s.useEffect(()=>{e||(o(!1),i(null))},[e]);const h=()=>{a||!t||(o(!0),i(null),setTimeout(()=>{const d=Math.floor(Math.random()*De.length),g=De[d];i(g),o(!1),r(g)},1200))};return!e||!t?null:c.jsxs("div",{style:{position:"fixed",inset:0,zIndex:60,display:"flex",alignItems:"center",justifyContent:"center"},children:[c.jsx("div",{onClick:n,style:{position:"absolute",inset:0,background:"rgba(0,0,0,0.6)"}}),c.jsxs("div",{style:{position:"relative",width:360,background:"#151515",borderRadius:12,padding:18,boxShadow:"0 10px 40px rgba(0,0,0,0.6)",border:"1px solid rgba(120,60,160,0.12)",color:"#fff"},children:[c.jsx("h3",{style:{margin:0,marginBottom:8},children:"Mini-juego: multiplicador"}),c.jsxs("p",{style:{marginTop:0,marginBottom:12,color:"#cfc"},children:["Regalo: ",c.jsx("strong",{children:t.nombre})," ‚Äî costo base:"," ",t.costo_monedas," monedas"]}),c.jsx("div",{style:{display:"flex",gap:12,alignItems:"center",justifyContent:"center",marginBottom:12},children:c.jsx("div",{style:{width:120,height:120,borderRadius:999,background:"linear-gradient(90deg,#ff66cc,#7b2cff)",display:"flex",alignItems:"center",justifyContent:"center",color:"#111",fontWeight:800,fontSize:20,transform:a?"rotate(360deg)":"none",transition:"transform 1.2s cubic-bezier(.2,.9,.2,.9)"},children:a?"...":l?`${l}x`:"GIRAR"})}),c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",gap:8},children:[c.jsx("button",{onClick:n,style:{background:"transparent",border:"1px solid rgba(255,255,255,0.06)",color:"#fff",padding:"8px 12px",borderRadius:8,cursor:"pointer"},children:"Cancelar"}),c.jsx("button",{onClick:h,disabled:a,style:{background:"linear-gradient(90deg,#ff66cc,#7b2cff)",border:"none",color:"#fff",padding:"8px 12px",borderRadius:8,cursor:"pointer",fontWeight:700},children:a?"Jugando...":l?"Volver a jugar":"Jugar (Girar)"})]})]})]})},Oe="/PROYECTO--PROGRAWEB-TISTOS/assets/tomba-BDZHZMqZ.png",Mn="/PROYECTO--PROGRAWEB-TISTOS/assets/Dina-ChyTXk3Y.png",_n=e=>{const t=e.toLowerCase().trim();return t.includes("tomba")?Oe:t.includes("dina")?Mn:Oe};function Gn({streamerId:e}){const{saldo:t,setSaldo:n,refrescarSaldo:r}=yt(),[a,o]=s.useState(!1),[l,i]=s.useState("principal"),[h,d]=s.useState(""),[g,m]=s.useState([]),[v,y]=s.useState(null),[N,u]=s.useState(!1),[f,p]=s.useState(null),[E,b]=s.useState(!1);s.useEffect(()=>{(async()=>{if(e)try{const C=await fetch(`${ge}/regalos/streamer/${e}`);if(!C.ok){console.warn("No se pudo obtener regalos del streamer",C.status,await C.text());return}const T=await C.json();m(T||[])}catch(C){console.error("Error al cargar regalos:",C)}})()},[e]);const w=async(x,C=1)=>{d("");const T=localStorage.getItem("usuario");if(!T){d("Debes iniciar sesi√≥n para enviar regalos.");return}let q;try{q=JSON.parse(T)}catch(A){console.error("Error parseando usuario:",A),d("Error con los datos de sesi√≥n. Vuelve a iniciar sesi√≥n.");return}const de=q.id_usuario??q.id;if(!de){d("No se encontr√≥ tu ID de usuario. Vuelve a iniciar sesi√≥n.");return}const fe=x.costo_monedas*C;if(t<fe){d(`No tienes suficientes monedas. Necesitas ${fe} monedas.`);return}const me=localStorage.getItem("authToken");try{const A=await fetch(`${ge}/regalos/enviar`,{method:"POST",headers:{"Content-Type":"application/json",...me?{Authorization:`Bearer ${me}`}:{}},body:JSON.stringify({id_espectador:de,id_streamer:e,id_regalo:x.id_regalo,cantidad:C})}),B=await A.json();if(!A.ok){console.error("Error /regalos/enviar:",B),d(B.error||"Error al enviar el regalo."),await r();return}typeof B.saldo_monedas=="number"?n(B.saldo_monedas):await r(),p({nombre:C>1?`${x.nombre} x${C}`:x.nombre,imagen:_n(x.nombre)}),u(!0),d(C>1?`¬°Regalo enviado con multiplicador x${C}! üéÅ`:"¬°Regalo enviado correctamente! üéÅ")}catch(A){console.error("Error al enviar regalo:",A),d("Error de conexi√≥n al enviar el regalo.")}},S=x=>{y(x),d(""),i("detalle")},D=()=>{i("principal"),y(null),d("")};return c.jsxs("div",{children:[c.jsx("button",{className:"flex items-center gap-2 bg-pink-500 hover:bg-pink-600 text-white font-semibold px-4 py-2 rounded-xl shadow-md transition",onClick:()=>o(!0),title:"Enviar regalo",children:"üéÅ"}),c.jsx(On,{open:a,onOpenChange:o,children:c.jsx(it,{className:"sm:max-w-md",children:c.jsxs(ct,{children:[c.jsxs("div",{className:"border-b-2 border-white pb-2 mb-4 flex items-center justify-between",children:[c.jsx("h1",{className:"text-pink-600 text-3xl font-bold",children:"Regalos"}),c.jsxs("div",{className:"text-right",children:[c.jsx("h1",{className:"text-muted-foreground text-xs",children:"Saldo"}),c.jsxs("h1",{className:"text-2xl font-bold",children:[t," MONEDAS"]})]})]}),l==="principal"&&c.jsx("div",{className:"relative flex flex-wrap justify-start items-start gap-4 min-h-[160px]",children:g.length===0?c.jsx("p",{className:"text-sm text-muted-foreground",children:"Este streamer a√∫n no tiene regalos configurados."}):g.map(x=>c.jsxs("button",{onClick:()=>S(x),className:"flex flex-col items-center justify-center gap-1 px-3 py-2 rounded-lg bg-card hover:bg-card/80 transition border border-white/10",children:[c.jsx(he,{className:"w-6 h-6 text-pink-500"}),c.jsx("span",{className:"text-xs font-semibold",children:x.nombre}),c.jsxs("span",{className:"text-[11px] text-muted-foreground",children:[x.costo_monedas," monedas"]})]},x.id_regalo))}),h&&c.jsx("div",{className:"max-w-xl mx-auto mt-3 mb-1 text-center text-primary font-semibold text-sm",children:h}),l==="detalle"&&v&&c.jsxs("div",{className:"max-w-md mx-auto bg-card rounded-xl p-6 text-center",children:[c.jsxs("h3",{className:"text-xl font-bold mb-3 flex items-center justify-center gap-2",children:[c.jsx(he,{className:"w-5 h-5 text-primary"})," ",v.nombre]}),c.jsxs("p",{className:"text-sm mb-1",children:["Costo:"," ",c.jsxs("span",{className:"font-semibold",children:[v.costo_monedas," monedas"]})]}),c.jsxs("p",{className:"text-sm mb-4",children:["Puntos:"," ",c.jsx("span",{className:"font-semibold",children:v.puntos_otorgados})]}),c.jsxs("div",{className:"flex flex-col gap-3 mt-4",children:[c.jsx(pe,{variant:"secondary",onClick:()=>b(!0),children:"Jugar minijuego y enviar"}),c.jsx(pe,{variant:"outline",onClick:D,children:"Volver"})]})]})]})})}),c.jsx(Pn,{gift:f,visible:N,onClose:()=>u(!1)}),c.jsx(In,{open:E,gift:v,onClose:()=>b(!1),onResult:async x=>{b(!1),v&&await w(v,x)}})]})}export{Gn as M};
