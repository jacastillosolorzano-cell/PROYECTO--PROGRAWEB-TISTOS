import{d as b,r as a,j as e,u as k}from"./index-bRf4bcou.js";import{B as f}from"./button-CxmuLj3z.js";import{D as S,a as C,b as I}from"./dialog-D7fBn5Hv.js";import{C as R}from"./coins-CNaLeaqt.js";import{G as O}from"./gift-Bk9fHC5U.js";import{H as T,C as E}from"./ComentSection-BLgSBzVD.js";import{M as g}from"./music-2-BL9vcRTI.js";import{B as M}from"./BottomNav-VewxGXHs.js";import"./use-user-BR37ZIMd.js";import"./config-9OvXtyrZ.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D=b("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P=b("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L=b("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]),G="/PROYECTO--PROGRAWEB-TISTOS/assets/tomba-BDZHZMqZ.png",B="/PROYECTO--PROGRAWEB-TISTOS/assets/Dina-ChyTXk3Y.png";function H({gift:t,visible:o,onClose:n,durationMs:r=3500}){const[l,x]=a.useState(o),s=a.useRef(null);return a.useEffect(()=>{if(x(o),s.current&&(window.clearTimeout(s.current),s.current=null),!!o)return s.current=window.setTimeout(()=>{x(!1),n(),s.current=null},r),()=>{s.current&&(window.clearTimeout(s.current),s.current=null)}},[o,r,n]),a.useEffect(()=>()=>{s.current&&(window.clearTimeout(s.current),s.current=null)},[]),t?e.jsx("div",{className:`fixed right-8 top-20 z-50 pointer-events-auto transform-gpu ${l?"animate-slide-in":"animate-slide-out"}`,onClick:()=>{s.current&&(window.clearTimeout(s.current),s.current=null),x(!1),n()},children:e.jsxs("div",{className:"flex items-center gap-4 bg-gradient-to-r from-pink-500 to-secondary p-4 rounded-2xl shadow-glow text-white min-w-[300px] max-w-md",children:[e.jsx("img",{src:t.imagen,alt:t.nombre,className:"w-20 h-20 object-contain"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-extrabold text-lg",children:"Â¡Recibiste un regalo!"}),e.jsx("div",{className:"text-md opacity-95",children:t.nombre})]})]})}):null}const V=[{id:1,nombre:"Tomba",costo:2,puntos:20,imagen:G,descripcion:" Para que nunca te falte el pasaje",ancho:100,alto:100},{id:2,nombre:"Dina",costo:10,puntos:100,imagen:B,descripcion:" Para tu sopa, segundo y postresito",ancho:150,alto:75}];function A(){const[t,o]=a.useState("principal");k();const[n,r]=a.useState(50),[l,x]=a.useState(0),[s,c]=a.useState(""),[i,h]=a.useState(null),[p,u]=a.useState(!1),[m,v]=a.useState(null),w=()=>{r(n+100),c("Â¡Has comprado 100 monedas!"),setTimeout(()=>c(""),1500)},[N,j]=a.useState(!1),y=d=>{n>=d.costo?(r(n-d.costo),x(l+d.puntos),c(`Â¡Has enviado una ${d.nombre} y apoyado al streamer!`),v(d),u(!0),setTimeout(()=>c(""),2e3)):(c("No tienes suficientes monedas."),setTimeout(()=>c(""),2e3))};return e.jsxs("div",{children:[e.jsx("button",{className:`flex items-center gap-2\r
            bg-pink-500 hover:bg-pink-600 text-white font-semibold px-4 py-2 rounded-xl shadow-md transition`,onClick:()=>{j(!0)},children:"ðŸŽ"}),e.jsx(S,{open:N,onOpenChange:j,children:e.jsx(C,{className:"sm:max-w-md",children:e.jsxs(I,{children:[e.jsxs("div",{className:"border-b-2 border-white pb-2 mb-4 flex items-center justify-between",children:[e.jsx("h1",{className:"text-pink-600 text-3xl font-bold ",children:"Regalos"}),e.jsxs("div",{className:"text-right",children:[e.jsx("h1",{className:"text-muted-foreground",children:" Saldo"}),e.jsxs("h1",{className:"text-2xl font-bold",children:[n," SOLES"]})]})]}),t==="principal"&&e.jsxs("div",{className:"relative flex justify-start items-start gap-6 min-h-[200px]",children:[V.map(d=>e.jsx("button",{onClick:()=>{h(d),o("dialogo2")},className:"hover:scale-105 transition",children:e.jsx("img",{src:d.imagen,alt:d.nombre,className:"w-10 h-10 object-contain"})},d.id)),e.jsx("div",{className:"absolute bottom-2 right-2 flex flex-col items-end",children:e.jsxs("div",{className:"flex items-center gap-3 bg-card/50 p-2 rounded-lg backdrop-blur-md",children:[e.jsxs("span",{className:"font-bold text-lg flex items-center gap-2",children:[e.jsx(R,{className:"w-6 h-6 text-yellow-400"})," Monedas"]}),e.jsx(f,{variant:"link",size:"sm",onClick:w,children:"Obtener Monedas"})]})})]}),s&&e.jsx("div",{className:"max-w-xl mx-auto mb-2 text-center text-primary font-semibold",children:s}),t==="dialogo2"&&i&&e.jsxs("div",{className:"max-w-md mx-auto bg-card rounded-xl p-6 text-center",children:[e.jsxs("h3",{className:"text-xl font-bold mb-3 flex items-center justify-center gap-2",children:[e.jsx(O,{className:"w-5 h-5 text-primary"})," ",i.nombre]}),e.jsx("img",{src:i.imagen,alt:i.nombre,style:{width:i.ancho,height:i.alto,objectFit:"contain",margin:"0 auto"},className:"mb-4"}),e.jsxs("p",{className:"text-sm mb-1",children:[" Costo: s/ ",i.costo," "]}),e.jsxs("p",{className:"text-sm mb-4",children:["Puntos: ",i.puntos]}),e.jsxs("p",{className:"text-sm mb-4",children:[" Descripcion:",i.descripcion]}),e.jsxs("div",{className:"flex justify-center gap-4",children:[e.jsx(f,{variant:"secondary",onClick:()=>y(i),children:"Enviar regalo"}),e.jsx(f,{variant:"outline",onClick:()=>o("principal"),children:"Volver"})]})]})]})})}),e.jsx(H,{gift:m?{nombre:m.nombre,imagen:m.imagen}:null,visible:p,onClose:()=>u(!1)})]})}const _=({video:t,isActive:o})=>{const[n,r]=a.useState(!1),[l,x]=a.useState(t.likes),s=a.useRef(null),[c,i]=a.useState(!1);a.useEffect(()=>{s.current&&(o?s.current.play():(s.current.pause(),s.current.currentTime=0))},[o]);const h=()=>{r(!n),x(n?l-1:l+1)},p=({streamerId:m})=>null,u=m=>m>=1e6?(m/1e6).toFixed(1)+"M":m>=1e3?(m/1e3).toFixed(1)+"K":m.toString();return e.jsxs("div",{className:"snap-item relative h-screen w-screen bg-black",children:[e.jsxs("div",{className:"absolute inset-0",children:[e.jsx("video",{ref:s,className:"h-screen w-screen object-cover",loop:!0,muted:!0,playsInline:!0,poster:`https://picsum.photos/1080/1920?random=${t.id}`,children:e.jsx("source",{src:t.videoUrl,type:"video/mp4"})}),e.jsx("div",{className:"absolute inset-0 gradient-overlay"})]}),e.jsx("button",{className:"absolute inset-0 flex items-center justify-center z-10 group",tabIndex:-1,style:{pointerEvents:"none"},children:e.jsx("div",{className:"opacity-0 group-active:opacity-100 transition-opacity duration-200",children:e.jsx(P,{className:"w-20 h-20 text-white drop-shadow-2xl",fill:"white"})})}),e.jsxs("div",{className:"absolute right-4 bottom-24 z-30 flex flex-col gap-6",children:[e.jsx("div",{className:"mb-2",children:e.jsx(p,{streamerId:t.streamerId})}),e.jsx(A,{}),e.jsx("div",{className:"flex flex-col items-center",children:e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:t.avatar,alt:t.username,className:"w-12 h-12 rounded-full border-2 border-white"}),e.jsx("button",{className:"absolute -bottom-2 left-1/2 -translate-x-1/2 w-6 h-6 rounded-full bg-primary flex items-center justify-center text-white text-xl font-bold",children:"+"})]})}),e.jsxs("button",{onClick:h,className:"flex flex-col items-center gap-1",children:[e.jsx(T,{className:`w-8 h-8 transition-all ${n?"fill-primary text-primary animate-heart-pop":"text-white"}`}),e.jsx("span",{className:"text-white text-xs font-semibold text-shadow",children:u(l)})]}),e.jsxs("button",{onClick:()=>i(!0),className:"flex flex-col items-center gap-1",children:[e.jsx(D,{className:"w-8 h-8 text-white"}),e.jsx("span",{className:"text-white text-xs font-semibold text-shadow",children:u(t.comments)})]}),e.jsxs("button",{className:"flex flex-col items-center gap-1",children:[e.jsx(L,{className:"w-8 h-8 text-white"}),e.jsx("span",{className:"text-white text-xs font-semibold text-shadow",children:u(t.shares)})]}),e.jsx("button",{className:"flex flex-col items-center gap-1",children:e.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-primary to-secondary flex items-center justify-center",children:e.jsx(g,{className:"w-5 h-5 text-white"})})})]}),e.jsxs("div",{className:"absolute bottom-24 left-4 right-20 z-20 animate-slide-up",children:[e.jsxs("h3",{className:"text-white font-bold text-lg mb-1 text-shadow",children:["@",t.username]}),e.jsx("p",{className:"text-white text-sm mb-2 text-shadow line-clamp-2",children:t.caption}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(g,{className:"w-4 h-4 text-white"}),e.jsx("p",{className:"text-white text-xs text-shadow truncate",children:t.music})]})]}),c&&e.jsx(E,{sessionId:t.id,onClose:()=>i(!1)})]})},z=[{id:"1",videoUrl:"https://samplelib.com/mp4/sample-5s.mp4",username:"traveler_soul",avatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=Felix",caption:"Chasing sunsets ðŸŒ… #travel #nature",likes:12400,comments:234,shares:89,music:"Summer Vibes â€¢ Chill Beats",sessionId:"session-1",streamerId:"streamer-1"},{id:"2",videoUrl:"https://www.w3schools.com/html/movie.mp4",username:"urban_explorer",avatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=Aneka",caption:"City lights never sleep ðŸŒƒ #citylife #night",likes:23100,comments:456,shares:123,music:"Neon Dreams â€¢ Synthwave",sessionId:"session-2",streamerId:"streamer-2"},{id:"3",videoUrl:"https://www.w3schools.com/html/mov_bbb.mp4",username:"ocean_lover",avatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=Lily",caption:"Ocean therapy ðŸŒŠ #beach #relax",likes:34500,comments:678,shares:234,music:"Ocean Waves â€¢ Nature Sounds",sessionId:"session-3",streamerId:"streamer-3"},{id:"4",videoUrl:"https://filesamples.com/samples/video/mp4/sample_640x360.mp4",username:"mountain_climber",avatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=Max",caption:"Reaching new heights â›°ï¸ #adventure #hiking",likes:18900,comments:345,shares:167,music:"Epic Journey â€¢ Orchestral",sessionId:"session-4",streamerId:"streamer-4"}],F=()=>{const[t,o]=a.useState(0),n=a.useRef(null);return a.useEffect(()=>{const r=n.current;if(!r)return;const l=()=>{const x=r.scrollTop,s=window.innerHeight,c=Math.round(x/s);o(c)};return r.addEventListener("scroll",l),()=>r.removeEventListener("scroll",l)},[]),e.jsx("div",{ref:n,className:"h-screen overflow-y-auto snap-y snap-mandatory",children:z.map((r,l)=>e.jsx(_,{video:r,isActive:l===t},r.id))})},ee=()=>e.jsxs("div",{className:"relative min-h-screen bg-background",children:[e.jsx("div",{className:"p-4 flex justify-center"}),e.jsx(F,{}),e.jsx(M,{})]});export{ee as default};
