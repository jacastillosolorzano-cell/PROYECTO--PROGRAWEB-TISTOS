import{d as h,r as n,j as e,X as p,u as f,e as N}from"./index-DM_z9rUw.js";import{B as v}from"./button-A-3QlY1Z.js";import{S as b,M as g,B as w}from"./BottomNav-K-dWBpo4.js";import{u as y}from"./use-user-CDC5hjwT.js";import{S as k,H as C}from"./HeaderSaldo-CN55wxit.js";import{A as B}from"./arrow-left-DfKT7vPZ.js";import"./coins-D3VQptCB.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A=h("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E=h("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),S=({searchOpen:t,setSearchOpen:r,searchQuery:c,setSearchQuery:s,onEnter:x,filteredChats:d=[]})=>{const o=n.useRef(null);return n.useEffect(()=>{var a;t&&((a=o.current)==null||a.focus())},[t]),n.useEffect(()=>{const a=i=>{i.key==="Escape"&&t&&(r(!1),s(""))};return window.addEventListener("keydown",a),()=>window.removeEventListener("keydown",a)},[t,r,s]),e.jsxs("div",{className:"flex-none",children:[e.jsx(v,{variant:"ghost",size:"icon",onClick:()=>{const a=!t;r(a),a&&setTimeout(()=>{var i;return(i=o.current)==null?void 0:i.focus()},50)},children:e.jsx(b,{className:"w-5 h-5"})}),t&&e.jsx("div",{className:"absolute top-16 left-4 right-4 z-10 bg-card p-2 rounded-md shadow-lg",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{ref:o,value:c,onChange:a=>s(a.target.value),placeholder:"Buscar chats o mensajes...",className:"w-full px-3 py-2 rounded-md bg-background text-white outline-none",onKeyDown:a=>{a.key==="Enter"&&d.length===1&&x&&x(d)}}),e.jsx("button",{onClick:()=>{r(!1),s("")},className:"p-2 rounded-md bg-transparent","aria-label":"Cerrar búsqueda",children:e.jsx(p,{className:"w-4 h-4 text-muted-foreground"})})]})})]})},L=({chats:t,onChatClick:r})=>{const c=f();return e.jsxs("div",{children:[t.map(s=>e.jsxs("div",{className:"flex items-center gap-3 py-2 border-b border-border cursor-pointer hover:bg-muted rounded p-2",onClick:()=>{r(s),c(`/chat/${s.id}`,{state:{chat:s}})},children:[e.jsx("img",{src:s.avatar,alt:s.nombre,className:"w-10 h-10 rounded-full"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"font-semibold text-sm flex items-center gap-1",children:[s.nombre," - Nivel ",s.level,e.jsx(k,{className:"w-3 h-3 text-yellow-500"})]}),e.jsx("div",{className:"text-xs text-muted-foreground",children:s.mensaje})]}),e.jsx(g,{className:"w-5 h-5 text-muted-foreground"})]},s.id)),t.length===0&&e.jsx("div",{className:"py-8 text-center text-muted-foreground",children:"No se encontraron conversaciones."})]})},u=[{id:1,nombre:"Juler1",mensaje:"Se envió ayer",avatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=Allison",level:3},{id:2,nombre:"Hernan2",mensaje:"JAJAJAJAJAJA",avatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=Lexandra",level:7},{id:3,nombre:"Fiorella",mensaje:"Visto",avatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=Boom",level:5}],R=()=>{const t=f();y(),N();const[r,c]=n.useState(null),[s,x]=n.useState(""),[d,o]=n.useState(!1),a=n.useMemo(()=>{const l=s.trim().toLowerCase();return l?u.filter(m=>m.nombre.toLowerCase().includes(l)||m.mensaje.toLowerCase().includes(l)):u},[s]),i=l=>{c(l.id)},j=l=>{const m=l[0];t(`/chat/${m.id}`,{state:{chat:m}})};return e.jsxs("div",{className:"min-h-screen bg-background flex flex-col pb-20",children:[e.jsxs("div",{className:"flex items-center gap-2 p-4",children:[e.jsx(v,{variant:"ghost",size:"icon",onClick:()=>t(-1),children:e.jsx(B,{className:"w-5 h-5"})}),e.jsx("div",{className:"flex-1 flex items-center justify-center",children:d?null:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("h2",{className:"text-2xl font-bold",children:"Mensajes"}),e.jsx(C,{})]})}),e.jsx(S,{searchOpen:d,setSearchOpen:o,searchQuery:s,setSearchQuery:x,onEnter:j,filteredChats:a})]}),e.jsxs("div",{className:"px-6",children:[e.jsxs("div",{className:"flex gap-4 mb-4",children:[e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{className:"w-14 h-14 rounded-full bg-secondary flex items-center justify-center text-white text-xl font-bold",children:"U"}),e.jsx("span",{className:"text-xs mt-1",children:"Crear"})]}),e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("img",{src:"https://api.dicebear.com/7.x/avataaars/svg?seed=Sebastian",alt:"Sebastian",className:"w-14 h-14 rounded-full border-2 border-primary"}),e.jsx("span",{className:"text-xs mt-1",children:"Andrea"})]}),e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("img",{src:"https://api.dicebear.com/7.x/avataaars/svg?seed=Billy",alt:"Billy",className:"w-14 h-14 rounded-full border-2 border-primary"}),e.jsx("span",{className:"text-xs mt-1",children:"Billy"})]}),e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("img",{src:"https://api.dicebear.com/7.x/avataaars/svg?seed=ElCarlin",alt:"ElCarlin",className:"w-14 h-14 rounded-full border-2 border-primary"}),e.jsx("span",{className:"text-xs mt-1",children:"Jim"})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(E,{className:"w-5 h-5 text-primary"}),e.jsx("span",{className:"font-semibold",children:"Nuevos seguidores"})]}),e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(A,{className:"w-5 h-5 text-pink-500"}),e.jsx("span",{className:"font-semibold",children:"Actividad"})]})]}),e.jsx(L,{chats:a,onChatClick:i})]}),e.jsx("div",{className:"mt-auto",children:e.jsx(w,{})})]})};export{R as default};
